server:
  port: 7080

# Dify API 配置
dify:
  api-key: ${DIFY_API_KEY:app-2kMDeW2zCpRAoUSjCZPmF3Ih}
  base-url: ${DIFY_BASE_URL:https://api.dify.ai/v1}
  # 超时设置（LLM生成速度较慢，建议设置较长超时时间）
  timeout: 180

spring:
  application:
    name: ai-gmy
  ai:
    mcp:
      client:
        # 注意：首次使用前需要先修复 npm 权限问题
        # 请在终端执行: sudo chown -R $(whoami) ~/.npm
        # 然后将下面的 enabled 改为 true
        enabled: true
        name: ai-gmy-mcp-client
        version: 1.0.0
        type: SYNC
        request-timeout: 20s
        initialized: false
        stdio:
          servers-configuration: classpath:mcp-servers.json
    dashscope:
      embedding:
        options:
          model: text-embedding-v4
          dimensions: 1536
      chat:
        options:
          model: qwen-max
      api-key: ${API_KEY}
    vectorstore:
      milvus:
        client:
          host: ${MILVUS_HOST:localhost} # default: localhost
          port: ${MILVUS_PORT:19530} # default: 19530
          username: ${MILVUS_USERNAME:root} # default: root
          password: ${MILVUS_PASSWORD:milvus} # default: milvus
        databaseName: ${MILVUS_DATABASE_NAME:default} # default: default
        collectionName: ${MILVUS_COLLECTION_NAME:vector_store} # default: vector_store
        embeddingDimension: 1536 # default: 1536
        indexType: IVF_FLAT # default: IVF_FLAT
        metricType: COSINE # default: COSINE

# logback配置
logging:
  file:
    name: application.log
    path: logs/
    max-history: 30
    max-size: 100MB
    file-name-pattern: application-%d{yyyy-MM-dd}.log
    append: true
    level: DEBUG
    pattern: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
    encoding: UTF-8